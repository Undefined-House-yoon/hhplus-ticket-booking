
---

# 성능 테스트 보고서: 비관적 잠금(Pessimistic Locking) vs. 낙관적 잠금(Optimistic Locking)

## 목차

1. [개요](#개요)
2. [테스트 환경](#테스트-환경)
3. [테스트 시나리오](#테스트-시나리오)
4. [테스트 방법](#테스트-방법)
5. [테스트 결과](#테스트-결과)
6. [결론](#결론)

## 개요

이 보고서는 비관적 잠금(Pessimistic Locking)과 낙관적 잠금(Optimistic Locking) 메커니즘을 비교하여 성능 차이를 분석한 내용을 담고 있습니다. 각각의 잠금 방식에 대해 정의하고, 성능 테스트를 통해 얻은 결과를 분석하여 어느 방식이 더 효율적인지 판단합니다.

## 테스트 환경

- **서버 사양**:
    - 가상화 플랫폼: VMware
    - CPU: 1 CPU
    - 메모리: 1GB RAM
    - 운영체제: Ubuntu 20.04.2 LTS

- **소프트웨어**:
    - 데이터베이스: PostgreSQL 13
    - 애플리케이션 서버: Node.js 18
    - 테스트 도구: 

## 테스트 시나리오

1. **비관적 잠금(Pessimistic Locking)**:
    - 데이터베이스에서 레코드에 대한 락을 획득하고, 락이 해제될 때까지 다른 트랜잭션이 해당 레코드에 접근하지 못하도록 하는 방식.

2. **낙관적 잠금(Optimistic Locking)**:
    - 트랜잭션이 종료될 때까지 데이터를 수정하지 않고, 트랜잭션이 끝날 때 다른 트랜잭션에 의해 데이터가 변경되지 않았는지 확인하는 방식.

## 테스트 방법

1. **준비 단계**:
    - 동일한 데이터셋을 사용하여 비관적 잠금과 낙관적 잠금 두 가지 상황을 설정합니다.
    - 각 상황에서 동시에 여러 트랜잭션이 실행되도록 설정합니다.

2. **실행 단계**:
    - 테스트 도구를 사용하여 각 잠금 방식에 대해 동일한 시나리오를 100회 반복 실행합니다.
    - 각 트랜잭션의 응답 시간, 처리량(throughput), 에러율 등을 측정합니다.

3. **측정 지표**:
    - **응답 시간(Response Time)**: 트랜잭션을 완료하는 데 걸린 시간.
    - **처리량(Throughput)**: 초당 처리할 수 있는 트랜잭션 수.
    - **에러율(Error Rate)**: 트랜잭션 실패 비율.

## 테스트 결과

### 1. 비관적 잠금(Pessimistic Locking)

| 테스트 항목       | 평균 응답 시간(ms) | 처리량(TPS) | 에러율(%) |
|------------------|-------------------|--------|--------|
| 10 트랜잭션 동시 실행 |                |        |        |
| 50 트랜잭션 동시 실행 |                |        |        |
| 100 트랜잭션 동시 실행|                |        |        |

### 2. 낙관적 잠금(Optimistic Locking)

| 테스트 항목       | 평균 응답 시간(ms) | 처리량(TPS) | 에러율(%) |
|------------------|-------------------|------------|----------|
| 10 트랜잭션 동시 실행 |                |          |         |
| 50 트랜잭션 동시 실행 |                |          |       |
| 100 트랜잭션 동시 실행|                |          |       |

## 결론

- **비관적 잠금(Pessimistic Locking)**:
    

- **낙관적 잠금(Optimistic Locking)**:
    

따라서, ===> 결론 필수!!!


---
